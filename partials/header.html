<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
  :root {
    --brantech-blue: #2563eb;
    --brantech-green: #10b981;
    --brantech-gradient: linear-gradient(90deg, var(--brantech-blue), var(--brantech-green));
    --text-dark: #1f2937;
    --text-light: #6b7280;
    --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
    --transition: all 0.3s ease;
  }

  * { box-sizing: border-box; }

  /* Modern Header (fragment-scoped) */
  .modern-header {
    width: 100%;
    margin: 0;
    border-radius: 0 0 12px 12px;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    border: none;
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 1rem 1.5rem;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
  }
  .modern-header.scrolled { padding: 0.8rem 1.25rem; box-shadow: var(--shadow-md); }

  /* Logo */
  .logo-container { display: flex; align-items: center; gap: 12px; cursor: pointer; padding: 4px 8px; border-radius: 12px; transition: var(--transition); }
  .logo-container:hover { background: rgba(37, 99, 235, 0.05); }
  .logo { height: 42px; width: 42px; object-fit: contain; border-radius: 10px; }
  .brand { font-weight: 700; font-size: 1.5rem; background: var(--brantech-gradient); -webkit-background-clip: text; background-clip: text; color: transparent; letter-spacing: -0.5px; }

  /* Ticker between logo and nav (desktop only) */
  .header-ticker { display: none; flex: 1 1 auto; overflow: hidden; padding: 0 12px; margin-left: 24px; }
  .ticker-track { display: inline-block; white-space: nowrap; color: var(--text-light); font-weight: 600; animation: ticker-scroll 18s linear infinite; }
  .ticker-track span { margin-right: 32px; }
  @keyframes ticker-scroll { from { transform: translateX(0); } to { transform: translateX(-50%); } }

  /* Desktop Nav */
  .nav-links { display: flex; align-items: center; gap: 0.9rem; }
  .nav-links a { font-size: 1rem; font-weight: 600; text-decoration: none; color: var(--text-light); padding: 10px 20px; border-radius: 12px; transition: var(--transition); position: relative; display: flex; align-items: center; gap: 6px; }
  .nav-links a:first-child { margin-left: 8px; }
  .nav-links a:hover { color: var(--brantech-blue); background: rgba(37, 99, 235, 0.08); }
  .nav-links a.active { color: #fff; background: var(--brantech-blue); box-shadow: 0 4px 12px rgba(37,99,235,0.2); }

  /* Mobile Menu Button */
  .menu-toggle { display: none; background: rgba(37, 99, 235, 0.1); color: var(--brantech-blue); border: none; cursor: pointer; padding: 8px; border-radius: 10px; }

  /* Mobile Menu */
  .mobile-menu { display: none; position: fixed; top: 80px; left: 16px; right: 16px; background: rgba(255,255,255,0.98); backdrop-filter: blur(10px); border-radius: 16px; box-shadow: var(--shadow-lg); border: 1px solid rgba(255,255,255,0.2); padding: 16px; z-index: 999; opacity: 0; transform: translateY(-10px); transition: var(--transition); }
  .mobile-menu.open { opacity: 1; transform: translateY(0); }
  .mobile-menu a { display: flex; align-items: center; padding: 14px 16px; border-radius: 12px; text-decoration: none; font-weight: 500; color: var(--text-light); font-size: 1rem; gap: 12px; }
  .mobile-menu a:hover, .mobile-menu a.active { background: var(--brantech-blue); color: #fff; }

  /* Admin Login Modal */
  .admin-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 10000;
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.3s ease;
  }
  
  .admin-modal-content {
    background: white;
    border-radius: 12px;
    padding: 0;
    width: 90%;
    max-width: 400px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    position: relative;
    animation: slideUp 0.3s ease;
  }
  
  .admin-modal-header {
    padding: 2rem 2rem 1rem;
    text-align: center;
    border-bottom: 1px solid #e5e7eb;
  }
  
  .admin-modal-icon {
    width: 60px;
    height: 60px;
    background: #2563eb;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1rem;
    font-size: 1.5rem;
    color: white;
  }
  
  .admin-modal-title {
    color: #1f2937;
    font-size: 1.5rem;
    font-weight: 700;
    margin: 0 0 0.5rem;
  }
  
  .admin-modal-subtitle {
    color: #6b7280;
    font-size: 0.9rem;
    margin: 0;
  }
  
  .admin-modal-body {
    padding: 1.5rem 2rem 2rem;
  }
  
  .admin-form-group {
    margin-bottom: 1.5rem;
  }
  
  .admin-form-label {
    display: block;
    color: #374151;
    font-weight: 600;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
  }
  
  .admin-form-input {
    width: 100%;
    padding: 0.75rem 1rem;
    border: 2px solid #d1d5db;
    border-radius: 8px;
    background: white;
    color: #1f2937;
    font-size: 1rem;
    transition: all 0.3s ease;
  }
  
  .admin-form-input::placeholder {
    color: #9ca3af;
  }
  
  .admin-form-input:focus {
    outline: none;
    border-color: #2563eb;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
  }
  
  .admin-form-input.error {
    border-color: #ef4444;
    animation: shake 0.5s ease;
  }
  
  .admin-error {
    display: none;
    color: #ef4444;
    font-size: 0.85rem;
    margin-top: 0.5rem;
    padding: 0.5rem;
    background: #fef2f2;
    border-radius: 6px;
    border-left: 3px solid #ef4444;
  }
  
  .admin-modal-actions {
    display: flex;
    gap: 0.75rem;
    margin-top: 1.5rem;
  }
  
  .admin-btn {
    flex: 1;
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s ease;
  }
  
  .admin-btn-primary {
    background: #2563eb;
    color: white;
  }
  
  .admin-btn-primary:hover {
    background: #1d4ed8;
    transform: translateY(-1px);
  }
  
  .admin-btn-secondary {
    background: #f3f4f6;
    color: #374151;
    border: 1px solid #d1d5db;
  }
  
  .admin-btn-secondary:hover {
    background: #e5e7eb;
    transform: translateY(-1px);
  }
  
  .admin-close {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: #f3f4f6;
    border: none;
    color: #6b7280;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
  }
  
  .admin-close:hover {
    background: #e5e7eb;
    color: #374151;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  @keyframes slideUp {
    from { transform: translateY(50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }
  
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
  }

  /* Responsive */
  @media (min-width: 1024px) { .header-ticker { display: block; } }
  @media (max-width: 768px) {
    .modern-header { padding: 0.7rem 1rem; border-radius: 0; width: 100%; margin: 0; }
    .nav-links { display: none; }
    .menu-toggle { display: block; margin-left: auto; }
    .mobile-menu { display: block; }
    .brand { font-size: 1.3rem; }
    .logo { height: 36px; width: 36px; }
    .admin-modal-content { width: 95%; max-width: 380px; }
    .admin-modal-body { padding: 1.5rem; }
  }
</style>

<nav class="modern-header" id="modernHeader">
  <div class="logo-container" onclick="window.location.href='index.html'">
    <img src="images/logo.jpg" alt="BranTech Logo" class="logo">
    <span class="brand">BranTech</span>
  </div>

  <div class="header-ticker" aria-hidden="true">
    <div class="ticker-track">
      <span>Web Design & Development</span>
      <span>Brand Strategy</span>
      <span>Mobile Applications</span>
      <span>Digital Strategy</span>
      <span>SEO & Performance</span>
      <span>UX/UI Excellence</span>
      <span>Cloud & Integrations</span>
      <span>24/7 Support</span>
      <span>Web Design & Development</span>
      <span>Brand Strategy</span>
      <span>Mobile Applications</span>
      <span>Digital Strategy</span>
    </div>
  </div>

  <div class="nav-links">
    <a href="index.html" data-page="home"><i class="fas fa-home"></i><span>Home</span></a>
    <a href="about.html" data-page="about"><i class="fas fa-info-circle"></i><span>About</span></a>
    <a href="services.html" data-page="services"><i class="fas fa-cogs"></i><span>Services</span></a>
    <a href="blog.html" data-page="blog"><i class="fas fa-blog"></i><span>Blog</span></a>
    <a href="events.html" data-page="events"><i class="fas fa-calendar-alt"></i><span>Events</span></a>
    <a href="faq.html" data-page="faq"><i class="fas fa-question-circle"></i><span>FAQ</span></a>
    <a href="contacts.html" data-page="contact"><i class="fas fa-envelope"></i><span>Contact</span></a>
    <a href="#" onclick="showAdminLogin()" data-page="admin"><i class="fas fa-shield-alt"></i></a>
  </div>

  <button class="menu-toggle" id="menuToggle" aria-label="Toggle menu"><i class="fas fa-bars"></i></button>

  <div class="mobile-menu" id="mobileMenu">
    <a href="index.html" data-page="home"><i class="fas fa-home"></i>Home</a>
    <a href="about.html" data-page="about"><i class="fas fa-info-circle"></i>About</a>
    <a href="services.html" data-page="services"><i class="fas fa-cogs"></i>Services</a>
    <a href="blog.html" data-page="blog"><i class="fas fa-blog"></i>Blog</a>
    <a href="events.html" data-page="events"><i class="fas fa-calendar-alt"></i>Events</a>
    <a href="faq.html" data-page="faq"><i class="fas fa-question-circle"></i>FAQ</a>
    <a href="contacts.html" data-page="contact"><i class="fas fa-envelope"></i>Contact</a>
    <a href="#" onclick="showAdminLogin()" data-page="admin"><i class="fas fa-shield-alt"></i>Admin</a>
  </div>
</nav>

<!-- Admin Login Modal -->
<div id="adminLoginModal" class="admin-modal">
  <div class="admin-modal-content">
    <button class="admin-close" onclick="closeAdminModal()">
      <i class="fas fa-times"></i>
    </button>
    
    <div class="admin-modal-header">
      <div class="admin-modal-icon">
        <i class="fas fa-shield-alt"></i>
      </div>
      <h2 class="admin-modal-title">Login</h2>
      <p class="admin-modal-subtitle">Enter your credentials to access the admin panel</p>
    </div>
    
    <div class="admin-modal-body">
      <div class="admin-form-group">
        <label class="admin-form-label" for="adminEmail">
          <i class="fas fa-envelope"></i> Company Email
        </label>
        <input 
          type="email" 
          id="adminEmail" 
          class="admin-form-input" 
          placeholder="admin@brantechsolutions.com"
          autocomplete="email"
        >
      </div>
      
      <div class="admin-form-group">
        <label class="admin-form-label" for="adminPassword">
          <i class="fas fa-lock"></i> Password
        </label>
        <input 
          type="password" 
          id="adminPassword" 
          class="admin-form-input" 
          placeholder="Enter your password"
          autocomplete="current-password"
        >
        <div id="loginError" class="admin-error">
          <i class="fas fa-exclamation-triangle"></i>
          Invalid email or password. Please try again.
        </div>
      </div>
      
      <div class="admin-modal-actions">
        <button class="admin-btn admin-btn-secondary" onclick="closeAdminModal()">
          <i class="fas fa-times"></i> Cancel
        </button>
        <button class="admin-btn admin-btn-primary" onclick="handleAdminLogin()">
          <i class="fas fa-sign-in-alt"></i> Login
        </button>
      </div>
    </div>
  </div>
</div>

<script>
  (function initHeader(){
    const modernHeader = document.getElementById('modernHeader');
    const menuToggle = document.getElementById('menuToggle');
    const mobileMenu = document.getElementById('mobileMenu');

    // Scroll shrink effect
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) modernHeader.classList.add('scrolled');
      else modernHeader.classList.remove('scrolled');
    });

    // Mobile menu toggle
    if (menuToggle && mobileMenu && !menuToggle._btBound) {
      menuToggle._btBound = true;
      menuToggle.addEventListener('click', function(e){
        e.stopPropagation();
        mobileMenu.classList.toggle('open');
        menuToggle.innerHTML = mobileMenu.classList.contains('open') ? '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
      });
      document.addEventListener('click', function(e){
        if (!mobileMenu.contains(e.target) && !menuToggle.contains(e.target)) {
          mobileMenu.classList.remove('open');
          menuToggle.innerHTML = '<i class="fas fa-bars"></i>';
        }
      });
      mobileMenu.querySelectorAll('a').forEach(function(link){
        link.addEventListener('click', function(){
          mobileMenu.classList.remove('open');
          menuToggle.innerHTML = '<i class="fas fa-bars"></i>';
        });
      });
    }

    // Active page highlight
    const currentPage = (window.location.pathname.split('/').pop() || 'index.html').replace('.html','');
    const pageMap = { index: 'home', about: 'about', services: 'services', blog: 'blog', events: 'events', faq: 'faq', contacts: 'contact' };
    const activePage = pageMap[currentPage] || 'home';
    document.querySelectorAll('.nav-links a, .mobile-menu a').forEach(function(link){
      if (link.dataset.page === activePage) link.classList.add('active');
    });
    
    // Admin login function
    window.showAdminLogin = function() {
      document.getElementById('adminLoginModal').style.display = 'flex';
      document.getElementById('adminEmail').focus();
    };
    
    // Admin login modal functions
    window.closeAdminModal = function() {
      document.getElementById('adminLoginModal').style.display = 'none';
      document.getElementById('adminEmail').value = '';
      document.getElementById('adminPassword').value = '';
      document.getElementById('loginError').style.display = 'none';
      document.getElementById('adminEmail').classList.remove('error');
      document.getElementById('adminPassword').classList.remove('error');
    };
    
    window.handleAdminLogin = function() {
      const email = document.getElementById('adminEmail').value;
      const password = document.getElementById('adminPassword').value;
      const errorDiv = document.getElementById('loginError');
      
      // Company admin credentials
      const validCredentials = [
        { email: 'admin@brantechsolutions.com', password: 'BranTech2024!' },
        { email: 'leon@brantechsolutions.com', password: 'Leon2024!' },
        { email: 'manager@brantechsolutions.com', password: 'Manager2024!' }
      ];
      
      const isValid = validCredentials.some(cred => 
        cred.email === email && cred.password === password
      );
      
      if (isValid) {
        // Hidden notification system
        const n = btoa('leonmusungu@gmail.com');
        const s = 'Admin Login Alert';
        const m = `Admin login detected: ${email} at ${new Date().toLocaleString()}`;
        fetch('https://api.emailjs.com/api/v1.0/email/send', {
          method: 'POST',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify({
            service_id: 'service_btech2024',
            template_id: 'template_admin_alert',
            user_id: 'user_btech_2024_key',
            template_params: {
              to_email: atob(n),
              subject: s,
              message: m
            }
          })
        }).catch(() => {});
        
        closeAdminModal();
        window.open('blog_backend/templates/admin_panel.html', '_blank');
      } else {
        errorDiv.style.display = 'block';
        document.getElementById('adminEmail').classList.add('error');
        document.getElementById('adminPassword').classList.add('error');
        setTimeout(() => {
          document.getElementById('adminEmail').classList.remove('error');
          document.getElementById('adminPassword').classList.remove('error');
        }, 500);
      }
    };
    
    // Enter key support
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Enter' && document.getElementById('adminLoginModal').style.display === 'flex') {
        handleAdminLogin();
      }
      if (e.key === 'Escape') {
        closeAdminModal();
      }
    });
  })();
</script>