<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blog - BranTech Solutions</title>
  <meta name="description" content="Latest insights, tutorials, and industry trends from BranTech Solutions - your guide to cutting-edge technology.">
  <meta name="keywords" content="tech blog, web development, digital innovation, technology trends, tutorials">
  
  <!-- Favicon -->
  <link rel="icon" href="images/logo.jpg" type="image/jpeg">
  
  <!-- Three.js for 3D magic -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  
  <!-- CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <link rel="stylesheet" href="header-styles.css"/>
  <link rel="stylesheet" href="styles2.css"/>
  <link rel="stylesheet" href="chat-assistant.css"/>
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --magic-dark: #0a0a0f;
      --magic-blue: #2563eb;
      --magic-teal: #00ffb3;
      --magic-violet: #8b5cf6;
      --magic-glow: rgba(37, 99, 235, 0.3);
      --magic-text: #e0e7ff;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      background: #1a1a2e;
      color: var(--magic-text);
      font-family: 'Inter', sans-serif;
      overflow-x: hidden;
      cursor: auto;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      transition: all 0.3s ease;
    }
    
    /* Light Mode */
    body.light-mode {
      background: #f8fafc;
      color: #1e293b;
    }
    
    body.light-mode .blog-card {
      background: rgba(255, 255, 255, 0.9);
      border: 1px solid rgba(0, 0, 0, 0.1);
      color: #1e293b;
    }
    
    body.light-mode .blog-card-title {
      color: #1e293b;
    }
    
    body.light-mode .blog-card-excerpt {
      color: rgba(0, 0, 0, 0.7);
    }
    
    body.light-mode .blog-card-full-text {
      color: rgba(0, 0, 0, 0.8);
    }
    
    body.light-mode .category-card {
      background: rgba(255, 255, 255, 0.9);
      border: 1px solid rgba(0, 0, 0, 0.1);
    }
    
    body.light-mode .category-name {
      color: #1e293b;
    }
    
    body.light-mode .category-count {
      color: rgba(0, 0, 0, 0.6);
    }
    
    body.light-mode .newsletter-title,
    body.light-mode .categories-title {
      color: #1e293b;
    }
    
    body.light-mode .newsletter-subtitle {
      color: rgba(0, 0, 0, 0.7);
    }
    
    /* Theme Toggle Button */
    .theme-toggle {
      position: fixed;
      top: 100px;
      right: 20px;
      z-index: 1000;
      background: var(--magic-blue);
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      color: white;
      font-size: 1.2rem;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
    }
    
    .theme-toggle:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(37, 99, 235, 0.4);
    }
    
    body.light-mode .theme-toggle {
      background: #1e293b;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }
    

    
    /* Blog Hero Section */
    .blog-hero {
      position: relative;
      height: 60vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      margin-top: 80px;
    }
    
    #blog-canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }
    
    .blog-hero-content {
      position: relative;
      z-index: 10;
      text-align: center;
      max-width: 800px;
      padding: 0 2rem;
    }
    
    .blog-title {
      font-family: 'Orbitron', monospace;
      font-size: clamp(2.5rem, 6vw, 4rem);
      font-weight: 900;
      color: #ffffff;
      margin-bottom: 1rem;
    }
    
    .blog-subtitle {
      font-size: 1.25rem;
      color: rgba(255, 255, 255, 0.8);
      margin-bottom: 2rem;
    }
    
    /* Blog Container */
    .blog-container {
      position: relative;
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem 2rem;
      z-index: 10;
    }
    
    /* Blog Grid */
    .blog-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-bottom: 4rem;
    }
    
    /* Blog Card */
    .blog-card {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 0;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      cursor: pointer;
    }
    
    .blog-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
      border-color: rgba(255, 255, 255, 0.2);
    }
    
    @keyframes rotate {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .blog-card-image {
      width: 100%;
      height: 160px;
      border-radius: 12px 12px 0 0;
      position: relative;
      overflow: hidden;
      background: #2a2a3e;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .blog-card-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center top;
      transition: transform 0.3s ease;
      position: relative;
      z-index: 2;
    }
    
    /* Image fallback styling */
    .blog-card-image::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, #2a2a3e 0%, #1a1a2e 100%);
      z-index: 1;
    }
    
    .blog-card-image::after {
      content: 'ðŸ“·';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 2rem;
      color: rgba(255, 255, 255, 0.3);
      z-index: 1;
    }
    
    .blog-card-image img[src]:not([src=""]) + ::after {
      display: none;
    }
    
    .blog-card:hover .blog-card-image img {
      transform: scale(1.02);
    }
    
    .blog-card-content {
      padding: 1.2rem;
      position: relative;
      z-index: 2;
    }
    
    .blog-card-date {
      color: #6b7280;
      font-size: 0.9rem;
      font-weight: 500;
      margin-bottom: 0.5rem;
    }
    
    .blog-card-title {
      font-size: 1.1rem;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 0.6rem;
      line-height: 1.3;
    }
    
    .blog-card-excerpt {
      color: rgba(255, 255, 255, 0.7);
      line-height: 1.4;
      margin-bottom: 0.8rem;
      font-size: 0.85rem;
    }
    
    .blog-card-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
      margin-bottom: 1rem;
    }
    
    .blog-tag {
      background: rgba(37, 99, 235, 0.2);
      color: var(--magic-blue);
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 500;
    }
    
    .blog-read-more {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--magic-blue);
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s ease;
    }
    
    .blog-read-more:hover {
      color: #1d4ed8;
      transform: translateX(5px);
    }
    
    /* Expanded Card Styles */
    .blog-card.expanded {
      grid-column: 1 / -1;
      max-height: none;
    }
    
    .blog-card-full-content {
      display: none;
      padding-top: 1rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      margin-top: 1rem;
    }
    
    .blog-card.expanded .blog-card-full-content {
      display: block;
    }
    
    .blog-card-full-text {
      color: rgba(255, 255, 255, 0.8);
      line-height: 1.6;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }
    
    .blog-collapse {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--magic-violet);
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .blog-collapse:hover {
      color: #2563eb;
      transform: translateX(-5px);
    }
    
    /* Featured Post */
    .featured-post {
      grid-column: 1 / -1;
      background: rgba(139, 92, 246, 0.1);
      border-color: rgba(139, 92, 246, 0.3);
    }
    
    .featured-post .blog-card-image {
      height: 200px;
    }
    
    .featured-badge {
      position: absolute;
      top: 1rem;
      left: 1rem;
      background: #2563eb;
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
      z-index: 3;
    }
    
    /* Categories Section */
    .categories-section {
      margin-bottom: 4rem;
    }
    
    .categories-title {
      font-family: 'Orbitron', monospace;
      font-size: 2rem;
      font-weight: 700;
      color: #ffffff;
      text-align: center;
      margin-bottom: 2rem;
    }
    
    .categories-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
    }
    
    .category-card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 2rem;
      text-align: center;
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .category-card:hover {
      transform: translateY(-3px);
      border-color: rgba(255, 255, 255, 0.2);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    }
    
    /* Blog Login Modal */
    .login-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 10000;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.3s ease;
    }
    
    .login-modal.show {
      display: flex;
    }
    
    .login-form {
      background: white;
      border-radius: 12px;
      padding: 0;
      width: 90%;
      max-width: 420px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      position: relative;
      animation: slideUp 0.3s ease;
    }
    
    .login-form-header {
      padding: 2rem 2rem 1rem;
      text-align: center;
      border-bottom: 1px solid #e5e7eb;
    }
    
    .login-form-icon {
      width: 60px;
      height: 60px;
      background: #2563eb;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 1rem;
      font-size: 1.5rem;
      color: white;
    }
    
    .login-form h3 {
      color: #1f2937;
      font-size: 1.5rem;
      font-weight: 700;
      margin: 0 0 0.5rem;
    }
    
    .login-form-subtitle {
      color: #6b7280;
      font-size: 0.9rem;
      margin: 0;
    }
    
    .login-form-body {
      padding: 1.5rem 2rem 2rem;
    }
    
    .login-form-group {
      margin-bottom: 1.5rem;
    }
    
    .login-form-label {
      display: block;
      color: #374151;
      font-weight: 600;
      margin-bottom: 0.5rem;
      font-size: 0.9rem;
    }
    
    .login-form input {
      width: 100%;
      padding: 0.75rem 1rem;
      border: 2px solid #d1d5db;
      border-radius: 8px;
      background: white;
      color: #1f2937;
      font-size: 1rem;
      transition: all 0.3s ease;
    }
    
    .login-form input::placeholder {
      color: #9ca3af;
    }
    
    .login-form input:focus {
      outline: none;
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }
    
    .login-form-actions {
      display: flex;
      gap: 0.75rem;
      margin-top: 1.5rem;
    }
    
    .login-btn {
      flex: 1;
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .login-btn-primary {
      background: #2563eb;
      color: white;
    }
    
    .login-btn-primary:hover {
      background: #1d4ed8;
      transform: translateY(-1px);
    }
    
    .login-btn-secondary {
      background: #f3f4f6;
      color: #374151;
      border: 1px solid #d1d5db;
    }
    
    .login-btn-secondary:hover {
      background: #e5e7eb;
      transform: translateY(-1px);
    }
    
    .login-close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: #f3f4f6;
      border: none;
      color: #6b7280;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
    }
    
    .login-close:hover {
      background: #e5e7eb;
      color: #374151;
    }
    
    .auth-toggle {
      color: #2563eb;
      cursor: pointer;
      text-decoration: underline;
      margin-top: 1rem;
      text-align: center;
    }
    
    .auth-toggle:hover {
      color: #1d4ed8;
    }
    
    /* Blog Reading Modal */
    .blog-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 10000;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.3s ease;
    }
    
    .blog-modal.show {
      display: flex;
    }
    
    .blog-modal-content {
      background: #1a1a2e;
      border-radius: 12px;
      width: 90%;
      max-width: 800px;
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
      animation: slideUp 0.3s ease;
    }
    
    body.light-mode .blog-modal-content {
      background: white;
      color: #1e293b;
    }
    
    .blog-modal-header {
      position: sticky;
      top: 0;
      background: #1a1a2e;
      padding: 1.5rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: between;
      align-items: center;
    }
    
    body.light-mode .blog-modal-header {
      background: white;
      border-bottom: 1px solid #e5e7eb;
    }
    
    .blog-modal-close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: rgba(255, 255, 255, 0.1);
      border: none;
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
    }
    
    body.light-mode .blog-modal-close {
      background: #f3f4f6;
      color: #6b7280;
    }
    
    .blog-modal-close:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: scale(1.1);
    }
    
    .blog-modal-body {
      padding: 2rem;
    }
    
    .blog-modal-title {
      font-size: 2rem;
      font-weight: 700;
      color: white;
      margin-bottom: 1rem;
      line-height: 1.2;
    }
    
    body.light-mode .blog-modal-title {
      color: #1e293b;
    }
    
    .blog-modal-meta {
      display: flex;
      gap: 1rem;
      margin-bottom: 2rem;
      color: #6b7280;
      font-size: 0.9rem;
    }
    
    .blog-modal-content-text {
      color: rgba(255, 255, 255, 0.9);
      line-height: 1.7;
      font-size: 1rem;
    }
    
    body.light-mode .blog-modal-content-text {
      color: #374151;
    }
    
    .category-icon {
      font-size: 2.5rem;
      color: #2563eb;
      margin-bottom: 1rem;
      animation: pulse 2s ease-in-out infinite;
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }
    
    .category-name {
      font-size: 1.2rem;
      font-weight: 600;
      color: #ffffff;
      margin-bottom: 0.5rem;
    }
    
    .category-count {
      color: rgba(255, 255, 255, 0.6);
      font-size: 0.9rem;
    }
    
    /* Newsletter Section */
    .newsletter-section {
      text-align: center;
      margin-bottom: 4rem;
      padding: 2rem 0;
    }
    
    .newsletter-title {
      font-family: 'Orbitron', monospace;
      font-size: 1.8rem;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 0.8rem;
    }
    
    .newsletter-subtitle {
      color: rgba(255, 255, 255, 0.7);
      margin-bottom: 1.5rem;
      font-size: 1rem;
    }
    
    .newsletter-form {
      display: flex;
      gap: 0.8rem;
      max-width: 400px;
      margin: 0 auto;
    }
    
    .newsletter-input {
      flex: 1;
      padding: 0.8rem;
      border: 1px solid rgba(37, 99, 235, 0.3);
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.1);
      color: #ffffff;
      font-size: 0.9rem;
    }
    
    .newsletter-button {
      padding: 0.8rem 1.5rem;
      background: #2563eb;
      border: none;
      border-radius: 8px;
      color: #ffffff;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.9rem;
    }
    
    .newsletter-button:hover {
      transform: translateY(-2px);
      background: #1d4ed8;
      box-shadow: 0 8px 15px rgba(37, 99, 235, 0.3);
    }
    
    @media (max-width: 768px) {
      body { cursor: auto; }
      .blog-hero { height: 50vh; margin-top: 60px; }
      .blog-title { font-size: 2rem; }
      .blog-container { padding: 2rem 1rem; }
      .blog-grid { grid-template-columns: 1fr; gap: 1.2rem; }
      .blog-card-content { padding: 1rem; }
      .blog-card-image { height: 100px; }
      .featured-post .blog-card-image { height: 140px; }
      .newsletter-form { flex-direction: column; }
      .newsletter-section { padding: 1.5rem 0; }
      .categories-grid { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
    }
  </style>
</head>
<body>

  <!-- Navigation -->
  <div id="header"></div>
  
  <!-- Theme Toggle -->
  <button class="theme-toggle" aria-label="Toggle theme">
    <i class="fas fa-sun"></i>
  </button>


  
  <!-- Blog Hero Section -->
  <section class="blog-hero">
    <canvas id="blog-canvas"></canvas>
    <div class="blog-hero-content">
      <div class="inline-flex items-center px-4 py-2 bg-cyan-500/20 rounded-full mb-6 border border-cyan-500/30">
        <i class="fas fa-blog text-cyan-400 mr-2"></i>
        <span class="text-cyan-300 text-sm font-medium">Tech Insights & Innovation</span>
      </div>
      <h1 class="blog-title">BranTech Blog</h1>
      <p class="blog-subtitle">Discover the latest in technology, innovation, and digital transformation</p>
    </div>
  </section>

  <!-- Blog Container -->
  <div class="blog-container">

    
    <!-- Categories Section -->
    <section class="categories-section">
      <h2 class="categories-title">Explore Categories</h2>
      <div class="categories-grid">
        <div class="category-card" onclick="filterByCategory('Web Development')">
          <i class="fas fa-code category-icon"></i>
          <h3 class="category-name">Web Development</h3>
          <p class="category-count" id="webdev-count">0 posts</p>
        </div>
        <div class="category-card" onclick="filterByCategory('AI & Machine Learning')">
          <i class="fas fa-robot category-icon"></i>
          <h3 class="category-name">AI & Machine Learning</h3>
          <p class="category-count" id="ai-count">0 posts</p>
        </div>
        <div class="category-card" onclick="filterByCategory('Digital Marketing')">
          <i class="fas fa-chart-line category-icon"></i>
          <h3 class="category-name">Digital Marketing</h3>
          <p class="category-count" id="marketing-count">0 posts</p>
        </div>
        <div class="category-card" onclick="filterByCategory('Tech Trends')">
          <i class="fas fa-trending-up category-icon"></i>
          <h3 class="category-name">Tech Trends</h3>
          <p class="category-count" id="trends-count">0 posts</p>
        </div>
      </div>
    </section>

    <!-- Blog Grid -->
    <div id="blogGrid" class="blog-grid">
      <!-- Blog posts will be loaded here -->
    </div>

    <!-- Newsletter Section -->
    <section class="newsletter-section">
      <h2 class="newsletter-title">Stay Updated</h2>
      <p class="newsletter-subtitle">Get the latest tech insights delivered to your inbox</p>
      <form class="newsletter-form">
        <input type="email" class="newsletter-input" placeholder="Enter your email" required>
        <button type="submit" class="newsletter-button">Subscribe</button>
      </form>
    </section>
  </div>

  <!-- Blog Reading Modal -->
  <div id="blogModal" class="blog-modal">
    <div class="blog-modal-content">
      <div class="blog-modal-header">
        <button class="blog-modal-close" onclick="closeBlogModal()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="blog-modal-body">
        <h1 class="blog-modal-title" id="modalTitle"></h1>
        <div class="blog-modal-meta">
          <span id="modalDate"></span>
          <span id="modalViews"></span>
        </div>
        <div class="blog-modal-content-text" id="modalContent"></div>
      </div>
    </div>
  </div>

  <!-- Login Modal -->
  <div id="loginModal" class="login-modal">
    <div class="login-form">
      <button class="login-close" onclick="closeLoginModal()">
        <i class="fas fa-times"></i>
      </button>
      
      <div class="login-form-header">
        <div class="login-form-icon">
          <i class="fas fa-user"></i>
        </div>
        <h3 id="authTitle">Login</h3>
        <p class="login-form-subtitle">Enter your credentials to continue reading</p>
      </div>
      
      <div class="login-form-body">
        <form id="authForm">
          <div class="login-form-group">
            <label class="login-form-label" for="email">
              <i class="fas fa-envelope"></i> Email
            </label>
            <input type="email" id="email" placeholder="Enter your email" required>
          </div>
          
          <div class="login-form-group">
            <label class="login-form-label" for="password">
              <i class="fas fa-lock"></i> Password
            </label>
            <input type="password" id="password" placeholder="Enter your password" required>
          </div>
          
          <div id="signupFields" style="display: none;">
            <div class="login-form-group">
              <label class="login-form-label" for="fullName">
                <i class="fas fa-user"></i> Full Name
              </label>
              <input type="text" id="fullName" placeholder="Enter your full name">
            </div>
          </div>
          
          <div class="login-form-actions">
            <button type="button" class="login-btn login-btn-secondary" onclick="closeLoginModal()">
              <i class="fas fa-times"></i> Cancel
            </button>
            <button type="submit" class="login-btn login-btn-primary" id="authSubmit">
              <i class="fas fa-sign-in-alt"></i> Login
            </button>
          </div>
        </form>
        
        <p class="auth-toggle" onclick="toggleAuthMode()">Don't have an account? Sign up</p>
      </div>
    </div>
  </div>

  <!-- Custom Cursor -->
  <div class="magic-cursor"></div>

  <!-- Footer -->
  <div id="footer"></div>

  <!-- Chat Assistant -->
  <div id="chatAssistant" class="chat-assistant">
    <div id="chatToggle" class="chat-toggle">
      <svg class="chat-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
      </svg>
      <div class="chat-notification" id="chatNotification" style="display: none;"></div>
    </div>
    <div id="chatWindow" class="chat-window">
      <div class="chat-header">
        <div class="chat-header-info">
          <div class="chat-avatar">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
              <circle cx="12" cy="7" r="4"/>
            </svg>
          </div>
          <div class="chat-header-text">
            <h3>BranTech Assistant</h3>
            <p>How can I help you today?</p>
          </div>
        </div>
        <button id="chatClose" class="chat-close">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
          </svg>
        </button>
      </div>
      <div id="chatMessages" class="chat-messages">
        <div class="chat-welcome">
          <div class="welcome-message">
            <div class="welcome-avatar">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
              </svg>
            </div>
            <div class="welcome-text">
              <p>Hello! I'm your BranTech Solutions assistant. I can help you with:</p>
              <ul>
                <li>Our services and solutions</li>
                <li>Project inquiries</li>
                <li>Technical support</li>
                <li>General questions</li>
              </ul>
              <p>What would you like to know?</p>
            </div>
          </div>
        </div>
      </div>
      <div class="chat-input-container">
        <div class="chat-input-wrapper">
          <input type="text" id="chatInput" class="chat-input" placeholder="Type your message..." maxlength="500">
          <button id="chatSend" class="chat-send" disabled>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="22" y1="2" x2="11" y2="13"/>
              <polygon points="22,2 15,22 11,13 2,9 22,2"/>
            </svg>
          </button>
        </div>
        <div class="chat-typing" id="chatTyping" style="display: none;">
          <div class="typing-indicator">
            <span></span>
            <span></span>
            <span></span>
          </div>
          <span>BranTech Assistant is typing...</span>
        </div>
      </div>
    </div>
  </div>

  <script src="components.js"></script>
  <script src="chat-assistant.js"></script>
  
  <script>
    // Blog Hero Animation
    function initBlogHero() {
      const canvas = document.getElementById('blog-canvas');
      if (!canvas) return;
      
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(75, canvas.offsetWidth / canvas.offsetHeight, 0.1, 1000);
      const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true });
      
      renderer.setSize(canvas.offsetWidth, canvas.offsetHeight);
      
      // Create floating particles
      const geometry = new THREE.BufferGeometry();
      const vertices = [];
      
      for (let i = 0; i < 1000; i++) {
        vertices.push(
          (Math.random() - 0.5) * 2000,
          (Math.random() - 0.5) * 2000,
          (Math.random() - 0.5) * 2000
        );
      }
      
      geometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));
      
      const material = new THREE.PointsMaterial({
        color: 0x00d4ff,
        size: 2,
        transparent: true,
        opacity: 0.6
      });
      
      const particles = new THREE.Points(geometry, material);
      scene.add(particles);
      
      camera.position.z = 1000;
      
      function animate() {
        requestAnimationFrame(animate);
        
        particles.rotation.x += 0.0005;
        particles.rotation.y += 0.001;
        
        renderer.render(scene, camera);
      }
      
      animate();
      
      // Handle resize
      window.addEventListener('resize', () => {
        camera.aspect = canvas.offsetWidth / canvas.offsetHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(canvas.offsetWidth, canvas.offsetHeight);
      });
    }
    
    // Theme toggle functionality
    document.addEventListener('DOMContentLoaded', () => {
      const themeToggle = document.querySelector('.theme-toggle');
      if (themeToggle) {
        themeToggle.addEventListener('click', () => {
          document.body.classList.toggle('light-mode');
          const icon = themeToggle.querySelector('i');
          if (document.body.classList.contains('light-mode')) {
            icon.className = 'fas fa-moon';
          } else {
            icon.className = 'fas fa-sun';
          }
        });
      }
    });
  </script>
  
  <script>
    const API_BASE = 'http://localhost:8000/api';
    let allPosts = [];
    
    // Load blog posts from Django API
    async function loadBlogPosts() {
      try {
        console.log('Attempting to fetch from:', `${API_BASE}/posts/`);
        const response = await fetch(`${API_BASE}/posts/`, {
          method: 'GET',
          headers: {
            'Accept': 'application/json',
            'Content-Type': 'application/json',
          },
          mode: 'cors'
        });
        console.log('Response status:', response.status);
        console.log('Response headers:', response.headers);
        
        if (response.ok) {
          const data = await response.json();
          console.log('Raw API response:', data);
          allPosts = data;
          console.log('Loaded posts:', allPosts);
          displayBlogPosts(allPosts);
          updateCategoryCounts();
        } else {
          console.error('API response not ok:', response.status, response.statusText);
          const errorText = await response.text();
          console.error('Error response body:', errorText);
          loadStaticPosts();
        }
      } catch (error) {
        console.error('API fetch error:', error);
        console.error('Error details:', error.message);
        loadStaticPosts();
      }
    }
    
    // Display blog posts
    function displayBlogPosts(posts) {
      const blogGrid = document.getElementById('blogGrid');
      
      if (posts.length === 0) {
        blogGrid.innerHTML = '<p class="text-center text-white">No blog posts available.</p>';
        return;
      }
      
      blogGrid.innerHTML = posts.map((post, index) => {
        const isFirstPost = index === 0 && post.featured;
        const imageUrl = post.image ? (window.location.hostname === 'localhost' ? `http://localhost:8000${post.image}` : post.image) : 'https://images.unsplash.com/photo-1518709268805-4e9042af2176?auto=format&fit=crop&w=800&q=80';
        
        return `
          <article class="blog-card ${isFirstPost ? 'featured-post' : ''}" onclick="trackView(${post.id})">
            ${isFirstPost ? '<div class="featured-badge">Featured</div>' : ''}
            <div class="blog-card-image">
              <img src="${imageUrl}" alt="${post.title}" loading="lazy">
            </div>
            <div class="blog-card-content">
              <div class="blog-card-date">${new Date(post.created_at).toLocaleDateString()}</div>
              <h2 class="blog-card-title">${post.title}</h2>
              <p class="blog-card-excerpt">${post.excerpt}</p>
              <div class="blog-card-tags">
                ${post.tags_list ? post.tags_list.map(tag => `<span class="blog-tag">${tag}</span>`).join('') : ''}
              </div>
              <div class="flex justify-between items-center">
                <a href="#" class="blog-read-more" onclick="event.stopPropagation(); checkAuthAndOpenModal(${post.id})">
                  Read More <i class="fas fa-arrow-right"></i>
                </a>
                <span class="text-sm text-gray-400">
                  <i class="fas fa-eye mr-1"></i>${post.view_count || 0} views
                </span>
              </div>
            </div>
            <div class="blog-card-full-content">
              <div class="blog-card-full-text">
                ${post.content || 'Full article content would be displayed here. This is a sample of how the expanded content would look when users click "Read More". The content would include the complete article text, images, and any other media associated with the blog post.'}
              </div>
              <a href="#" class="blog-collapse" onclick="event.stopPropagation(); collapseCard(this)">
                <i class="fas fa-arrow-left"></i> Show Less
              </a>
            </div>
          </article>
        `;
      }).join('');
    }
    
    // Track blog post views
    async function trackView(postId) {
      try {
        const response = await fetch(`${API_BASE}/posts/${postId}/increment_view/`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          mode: 'cors'
        });
        console.log('View tracking response:', response.status);
      } catch (error) {
        console.log('View tracking not available:', error);
      }
    }
    
    // Update category counts
    function updateCategoryCounts() {
      const categories = {
        'Web Development': 0,
        'AI & Machine Learning': 0,
        'Digital Marketing': 0,
        'Tech Trends': 0
      };
      
      allPosts.forEach(post => {
        if (categories.hasOwnProperty(post.category)) {
          categories[post.category]++;
        }
      });
      
      document.getElementById('webdev-count').textContent = `${categories['Web Development']} posts`;
      document.getElementById('ai-count').textContent = `${categories['AI & Machine Learning']} posts`;
      document.getElementById('marketing-count').textContent = `${categories['Digital Marketing']} posts`;
      document.getElementById('trends-count').textContent = `${categories['Tech Trends']} posts`;
    }
    
    // Filter by category
    function filterByCategory(category) {
      const filteredPosts = allPosts.filter(post => post.category === category);
      displayBlogPosts(filteredPosts);
    }
    
    // Fallback static posts
    function loadStaticPosts() {
      const staticPosts = [
        {
          id: 1,
          title: "The Future of Web Development: Trends to Watch in 2024",
          excerpt: "Explore the cutting-edge technologies and methodologies shaping the future of web development.",
          content: "Web development is constantly evolving, with new technologies and frameworks emerging regularly. In this comprehensive guide, we'll explore the cutting-edge tools and methodologies that are shaping the future of web development. From progressive web apps to serverless architectures, discover what's next in the world of web technology. Modern frameworks like React, Vue, and Angular continue to push the boundaries of what's possible in web applications. The rise of JAMstack architecture has revolutionized how we think about static sites and dynamic content. With the advent of WebAssembly, we're seeing near-native performance in web browsers, opening up new possibilities for complex applications that were previously only possible as desktop software.",
          image: "https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400",
          tags_list: ["Web Development", "Technology", "Trends"],
          category: "Web Development",
          featured: true,
          view_count: 245,
          created_at: new Date().toISOString()
        },
        {
          id: 2,
          title: "AI Integration in Modern Applications",
          excerpt: "How artificial intelligence is revolutionizing user experiences and business processes.",
          content: "Artificial Intelligence is no longer a futuristic conceptâ€”it's here and transforming how we build and interact with applications. This article delves into practical AI integration strategies, from chatbots and recommendation systems to predictive analytics and automated workflows. Learn how to leverage AI to create smarter, more intuitive applications. Machine learning models are becoming more accessible through cloud APIs and pre-trained models. Natural language processing has reached a point where chatbots can handle complex customer service scenarios.",
          image: "https://images.unsplash.com/photo-1555255707-c07966088b7b?w=400",
          tags_list: ["AI", "Machine Learning", "Innovation"],
          category: "AI & Machine Learning",
          featured: false,
          view_count: 189,
          created_at: new Date().toISOString()
        }
      ];
      
      allPosts = staticPosts;
      displayBlogPosts(allPosts);
      updateCategoryCounts();
    }
    
    // Custom cursor
    function initCursor() {
      const cursor = document.querySelector('.magic-cursor');
      
      document.addEventListener('mousemove', (e) => {
        cursor.style.left = e.clientX - 10 + 'px';
        cursor.style.top = e.clientY - 10 + 'px';
      });
    }
    
    // Test API connectivity
    async function testAPI() {
      try {
        console.log('Testing API connection to:', `${API_BASE}/posts/`);
        const response = await fetch(`${API_BASE}/posts/`, {
          method: 'GET',
          headers: {
            'Accept': 'application/json',
          },
          mode: 'cors'
        });
        console.log('API Test - Status:', response.status);
        console.log('API Test - OK:', response.ok);
        if (response.ok) {
          const data = await response.json();
          console.log('API Test - Data length:', data.length);
          console.log('API Test - First post:', data[0]);
          return true;
        } else {
          console.error('API Test - Response not OK');
          return false;
        }
      } catch (error) {
        console.error('API Test - Error:', error);
        console.error('API Test - Error type:', error.name);
        console.error('API Test - Error message:', error.message);
        return false;
      }
    }
    
    // Check authentication before opening modal
    function checkAuthAndOpenModal(postId) {
      if (isLoggedIn()) {
        openBlogModal(postId);
      } else {
        showLoginModal();
        window.pendingModal = postId;
      }
    }
    
    // Open blog modal
    function openBlogModal(postId) {
      const post = allPosts.find(p => p.id === postId);
      if (!post) return;
      
      document.getElementById('modalTitle').textContent = post.title;
      document.getElementById('modalDate').innerHTML = `<i class="fas fa-calendar"></i> ${new Date(post.created_at).toLocaleDateString()}`;
      document.getElementById('modalViews').innerHTML = `<i class="fas fa-eye"></i> ${post.view_count || 0} views`;
      document.getElementById('modalContent').textContent = post.content || 'Full article content would be displayed here.';
      
      document.getElementById('blogModal').classList.add('show');
      document.body.style.overflow = 'hidden';
      trackView(postId);
    }
    
    // Close blog modal
    function closeBlogModal() {
      document.getElementById('blogModal').classList.remove('show');
      document.body.style.overflow = 'auto';
    }
    
    // Authentication functions
    function isLoggedIn() {
      return localStorage.getItem('blogUser') !== null;
    }
    
    function showLoginModal() {
      document.getElementById('loginModal').classList.add('show');
    }
    
    function closeLoginModal() {
      document.getElementById('loginModal').classList.remove('show');
    }
    
    let isSignupMode = false;
    
    function toggleAuthMode() {
      isSignupMode = !isSignupMode;
      const title = document.getElementById('authTitle');
      const submit = document.getElementById('authSubmit');
      const toggle = document.querySelector('.auth-toggle');
      const signupFields = document.getElementById('signupFields');
      const icon = document.querySelector('.login-form-icon i');
      
      if (isSignupMode) {
        title.textContent = 'Sign Up';
        submit.innerHTML = '<i class="fas fa-user-plus"></i> Sign Up';
        toggle.textContent = 'Already have an account? Login';
        signupFields.style.display = 'block';
        icon.className = 'fas fa-user-plus';
      } else {
        title.textContent = 'Login';
        submit.innerHTML = '<i class="fas fa-sign-in-alt"></i> Login';
        toggle.textContent = "Don't have an account? Sign up";
        signupFields.style.display = 'none';
        icon.className = 'fas fa-user';
      }
    }
    
    // Handle auth form submission
    document.getElementById('authForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      
      if (isSignupMode) {
        const fullName = document.getElementById('fullName').value;
        // Simple signup - store user data
        localStorage.setItem('blogUser', JSON.stringify({ email, fullName }));
        alert('Account created successfully!');
      } else {
        // Simple login - just store email
        localStorage.setItem('blogUser', JSON.stringify({ email }));
      }
      
      closeLoginModal();
      
      // If there was a pending modal, open it
      if (window.pendingModal) {
        openBlogModal(window.pendingModal);
        window.pendingModal = null;
      }
    });
    

    

    
    // Initialize blog
    document.addEventListener('DOMContentLoaded', () => {
      console.log('DOM loaded, API_BASE:', API_BASE);
      initBlogHero();
      testAPI().then(success => {
        console.log('API test result:', success);
        loadBlogPosts();
      });
      initCursor();
      
      // Close modals when clicking outside
      document.getElementById('loginModal').addEventListener('click', function(e) {
        if (e.target === this) {
          closeLoginModal();
        }
      });
      
      document.getElementById('blogModal').addEventListener('click', function(e) {
        if (e.target === this) {
          closeBlogModal();
        }
      });
      
      // Close modal with Escape key
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          closeBlogModal();
          closeLoginModal();
        }
      });
    });
  </script>
</body>
</html>